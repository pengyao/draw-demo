{"version":3,"sources":["App.js","index.js"],"names":["App","state","draw_orig","exclude_orig","draw_numbers","draw_number","isRunning","intarval","generate_draw_numbers","Set","_this$state","_this","exclude_numbers","split","map","num","add","parseInt","includes","begin","end","range","start","concat","Object","toConsumableArray","newNum","has","Array","from","setState","generate_draw_number","Math","floor","random","length","handleChange","event","name","target","defineProperty","value","handleSubmit","preventDefault","interval","clearInterval","setInterval","react_default","a","createElement","className","onSubmit","this","type","defaultValue","onChange","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"qRAkGeA,6MAzFbC,MAAQ,CACNC,UAAa,MACbC,aAAgB,GAChBC,aAAgB,GAChBC,YAAe,KACfC,WAAa,EACbC,SAAY,QAGdC,sBAAwB,WACtB,IAAIJ,EAAe,IAAIK,IADKC,EAEQC,EAAKV,MAAjCC,EAFoBQ,EAEpBR,UAAWC,EAFSO,EAETP,aACfS,EAAkB,IAAIH,IAC1BN,EAAaU,MAAM,KAAKC,IAAI,SAAAC,GACtBA,GACFH,EAAgBI,IAAIC,SAASF,MAGjCb,EAAUW,MAAM,KAAKC,IAAI,SAAAC,GACvB,GAAIA,EAAIG,SAAS,KAAM,CACrB,IAAMC,EAAQJ,EAAIF,MAAM,KAAK,GACvBO,EAAML,EAAIF,MAAM,KAAK,IA3BnC,SAASQ,EAAMC,EAAOF,GACpB,OAAGE,IAAUF,EAAY,CAACE,GAC1B,CAAQA,GAARC,OAAAC,OAAAC,EAAA,EAAAD,CAAkBH,EAAMC,EAAQ,EAAGF,MA0B7BC,CAAMJ,SAASE,GAAQF,SAASG,IAAMN,IAAI,SAAAY,GACnCd,EAAgBe,IAAID,IACvBtB,EAAaY,IAAIU,UAIrBX,EAAME,SAASF,GACVH,EAAgBe,IAAIZ,IACzBX,EAAaY,IAAID,KAGrBX,EAAewB,MAAMC,KAAKzB,GAC1BO,EAAKmB,SAAS,CAAC1B,oBAGjB2B,qBAAuB,WAAM,IACnB3B,EAAiBO,EAAKV,MAAtBG,aACJC,EAAcD,EAAa4B,KAAKC,MAAMD,KAAKE,SAAW9B,EAAa+B,SACvExB,EAAKmB,SAAS,CAACzB,mBAGjB+B,aAAe,SAACC,GACd,IAAMC,EAAOD,EAAME,OAAOD,KAC1B3B,EAAKmB,SAALN,OAAAgB,EAAA,EAAAhB,CAAA,GACGc,EAAOD,EAAME,OAAOE,WAIzBC,aAAe,SAAAL,GACbA,EAAMM,iBAEDhC,EAAKV,MAAMK,WAKVK,EAAKV,MAAM2C,WACbC,cAAclC,EAAKV,MAAM2C,UACzBjC,EAAKmB,SAAS,CAAEc,SAAU,QAE5BjC,EAAKmB,SAAS,CAAExB,WAAW,MAR3BK,EAAKH,wBACLG,EAAKmB,SAAS,CAAEc,SAAUE,YAAYnC,EAAKoB,qBAAsB,OACjEpB,EAAKmB,SAAS,CAAExB,WAAW,8EAW7B,OACEyC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,MAAMC,SAAUC,KAAKV,cACnCK,EAAAC,EAAAC,cAAA,iMACiDF,EAAAC,EAAAC,cAAA,WAC/CF,EAAAC,EAAAC,cAAA,SAAOI,KAAK,OAAOf,KAAK,YAAYgB,aAAcF,KAAKnD,MAAMC,UAAWqD,SAAUH,KAAKhB,gBAEzFW,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,uIAC0BF,EAAAC,EAAAC,cAAA,WACxBF,EAAAC,EAAAC,cAAA,SAAOI,KAAK,OAAOf,KAAK,eAAegB,aAAcF,KAAKnD,MAAME,aAAcoD,SAAUH,KAAKhB,gBAE/FW,EAAAC,EAAAC,cAAA,WAVF,IAUSF,EAAAC,EAAAC,cAAA,WACPF,EAAAC,EAAAC,cAAA,UAAQI,KAAK,UAAaD,KAAKnD,MAAMK,UAAoB,eAAP,iBAEpDyC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,UAAkC,OAA3BG,KAAKnD,MAAMI,YAAwB,GAAK+C,KAAKnD,MAAMI,qBApFhDmD,aCHlBC,IAASC,OAAOX,EAAAC,EAAAC,cAACU,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.3136f9a5.chunk.js","sourcesContent":["import React, { Component} from 'react';\nimport './App.css';\n\nfunction range(start, end) {\n  if(start === end) return [start];\n  return [start, ...range(start + 1, end)];\n}\n\nclass App extends Component {\n  state = {\n    'draw_orig': '1-9',\n    'exclude_orig': '',\n    'draw_numbers': [],\n    'draw_number': null,\n    'isRunning': false,\n    'intarval': null,\n  }\n\n  generate_draw_numbers = () => {\n    let draw_numbers = new Set()\n    const { draw_orig, exclude_orig } = this.state\n    let exclude_numbers = new Set()\n    exclude_orig.split(',').map(num => {\n      if (num) {\n        exclude_numbers.add(parseInt(num))\n      }  \n    })\n    draw_orig.split(',').map(num => {\n      if (num.includes('-')) {\n        const begin = num.split('-')[0]\n        const end = num.split('-')[1]\n        range(parseInt(begin), parseInt(end)).map(newNum => {\n          if (!exclude_numbers.has(newNum)) {\n            draw_numbers.add(newNum)\n          }\n        })\n      } else {\n        num = parseInt(num)\n        if (!exclude_numbers.has(num))\n        draw_numbers.add(num)\n      }\n    })\n    draw_numbers = Array.from(draw_numbers)\n    this.setState({draw_numbers})\n  }\n\n  generate_draw_number = () => {\n    const { draw_numbers } = this.state\n    let draw_number = draw_numbers[Math.floor(Math.random() * draw_numbers.length)]\n    this.setState({draw_number})\n  }\n\n  handleChange = (event) => {\n    const name = event.target.name\n    this.setState({\n      [name]: event.target.value\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n    \n    if (!this.state.isRunning) {\n      this.generate_draw_numbers()\n      this.setState({ interval: setInterval(this.generate_draw_number, 100)})\n      this.setState({ isRunning: true })\n    } else {\n      if (this.state.interval) {\n        clearInterval(this.state.interval)\n        this.setState({ interval: null })\n      }\n      this.setState({ isRunning: false })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <form className=\"box\" onSubmit={this.handleSubmit}>\n          <label>\n            请输入抽奖号码,以英文逗号(,)分割,如果是连续数字,可以使用'-'(如'1-9,11'): <br />\n            <input type=\"text\" name=\"draw_orig\" defaultValue={this.state.draw_orig} onChange={this.handleChange} />\n          </label>   \n          <br />\n          <label>\n            请输入需要排除的抽奖号码,以英文逗号(,)分割 <br />\n            <input type=\"text\" name=\"exclude_orig\" defaultValue={this.state.exclude_orig} onChange={this.handleChange} />\n          </label>   \n          <br /> <br />\n          <button type=\"submit\">{ (!this.state.isRunning) ? '开始' : '停止'}</button>\n        </form>\n        <hr />\n        <h1>{ (this.state.draw_number === null) ? '' : this.state.draw_number }</h1>\n      </div>\n    )\n  }  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}